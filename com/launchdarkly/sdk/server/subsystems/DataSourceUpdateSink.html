<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DataSourceUpdateSink (launchdarkly-java-server-sdk 6.0.2 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DataSourceUpdateSink (launchdarkly-java-server-sdk 6.0.2 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.launchdarkly.sdk.server.subsystems</a></div>
<h2 title="Interface DataSourceUpdateSink" class="title">Interface DataSourceUpdateSink</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">DataSourceUpdateSink</span></pre>
<div class="block">Interface that a data source implementation will use to push data into the SDK.
 <p>
 The data source interacts with this object, rather than manipulating the data store directly, so
 that the SDK can perform any other necessary operations that must happen when data is updated.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.0.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ClientContext.html#getDataSourceUpdateSink()"><code>ClientContext.getDataSourceUpdateSink()</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../interfaces/DataStoreStatusProvider.html" title="interface in com.launchdarkly.sdk.server.interfaces">DataStoreStatusProvider</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDataStoreStatusProvider()">getDataStoreStatusProvider</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns an object that provides status tracking for the data store, if applicable.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init(com.launchdarkly.sdk.server.subsystems.DataStoreTypes.FullDataSet)">init</a></span>&#8203;(<a href="DataStoreTypes.FullDataSet.html" title="class in com.launchdarkly.sdk.server.subsystems">DataStoreTypes.FullDataSet</a>&lt;<a href="DataStoreTypes.ItemDescriptor.html" title="class in com.launchdarkly.sdk.server.subsystems">DataStoreTypes.ItemDescriptor</a>&gt;&nbsp;allData)</code></th>
<td class="colLast">
<div class="block">Completely overwrites the current contents of the data store with a set of items for each collection.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateStatus(com.launchdarkly.sdk.server.interfaces.DataSourceStatusProvider.State,com.launchdarkly.sdk.server.interfaces.DataSourceStatusProvider.ErrorInfo)">updateStatus</a></span>&#8203;(<a href="../interfaces/DataSourceStatusProvider.State.html" title="enum in com.launchdarkly.sdk.server.interfaces">DataSourceStatusProvider.State</a>&nbsp;newState,
            <a href="../interfaces/DataSourceStatusProvider.ErrorInfo.html" title="class in com.launchdarkly.sdk.server.interfaces">DataSourceStatusProvider.ErrorInfo</a>&nbsp;newError)</code></th>
<td class="colLast">
<div class="block">Informs the SDK of a change in the data source's status.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#upsert(com.launchdarkly.sdk.server.subsystems.DataStoreTypes.DataKind,java.lang.String,com.launchdarkly.sdk.server.subsystems.DataStoreTypes.ItemDescriptor)">upsert</a></span>&#8203;(<a href="DataStoreTypes.DataKind.html" title="class in com.launchdarkly.sdk.server.subsystems">DataStoreTypes.DataKind</a>&nbsp;kind,
      java.lang.String&nbsp;key,
      <a href="DataStoreTypes.ItemDescriptor.html" title="class in com.launchdarkly.sdk.server.subsystems">DataStoreTypes.ItemDescriptor</a>&nbsp;item)</code></th>
<td class="colLast">
<div class="block">Updates or inserts an item in the specified collection.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="init(com.launchdarkly.sdk.server.subsystems.DataStoreTypes.FullDataSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">boolean&nbsp;init&#8203;(<a href="DataStoreTypes.FullDataSet.html" title="class in com.launchdarkly.sdk.server.subsystems">DataStoreTypes.FullDataSet</a>&lt;<a href="DataStoreTypes.ItemDescriptor.html" title="class in com.launchdarkly.sdk.server.subsystems">DataStoreTypes.ItemDescriptor</a>&gt;&nbsp;allData)</pre>
<div class="block">Completely overwrites the current contents of the data store with a set of items for each collection.
 <p>
 If the underlying data store throws an error during this operation, the SDK will catch it, log it,
 and set the data source state to <a href="../interfaces/DataSourceStatusProvider.State.html#INTERRUPTED"><code>DataSourceStatusProvider.State.INTERRUPTED</code></a> with an error of
 <a href="../interfaces/DataSourceStatusProvider.ErrorKind.html#STORE_ERROR"><code>DataSourceStatusProvider.ErrorKind.STORE_ERROR</code></a>. It will not rethrow the error to the data
 source, but will simply return <code>false</code> to indicate that the operation failed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allData</code> - a list of <a href="DataStoreTypes.DataKind.html" title="class in com.launchdarkly.sdk.server.subsystems"><code>DataStoreTypes.DataKind</code></a> instances and their corresponding data sets</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the update succeeded, false if it failed</dd>
</dl>
</li>
</ul>
<a id="upsert(com.launchdarkly.sdk.server.subsystems.DataStoreTypes.DataKind,java.lang.String,com.launchdarkly.sdk.server.subsystems.DataStoreTypes.ItemDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>upsert</h4>
<pre class="methodSignature">boolean&nbsp;upsert&#8203;(<a href="DataStoreTypes.DataKind.html" title="class in com.launchdarkly.sdk.server.subsystems">DataStoreTypes.DataKind</a>&nbsp;kind,
               java.lang.String&nbsp;key,
               <a href="DataStoreTypes.ItemDescriptor.html" title="class in com.launchdarkly.sdk.server.subsystems">DataStoreTypes.ItemDescriptor</a>&nbsp;item)</pre>
<div class="block">Updates or inserts an item in the specified collection. For updates, the object will only be
 updated if the existing version is less than the new version.
 <p>
 To mark an item as deleted, pass an <a href="DataStoreTypes.ItemDescriptor.html" title="class in com.launchdarkly.sdk.server.subsystems"><code>DataStoreTypes.ItemDescriptor</code></a> that contains a null, with a version
 number (you may use <a href="DataStoreTypes.ItemDescriptor.html#deletedItem(int)"><code>DataStoreTypes.ItemDescriptor.deletedItem(int)</code></a>). Deletions must be versioned so that
 they do not overwrite a later update in case updates are received out of order.
 <p>
 If the underlying data store throws an error during this operation, the SDK will catch it, log it,
 and set the data source state to <a href="../interfaces/DataSourceStatusProvider.State.html#INTERRUPTED"><code>DataSourceStatusProvider.State.INTERRUPTED</code></a> with an error of
 <a href="../interfaces/DataSourceStatusProvider.ErrorKind.html#STORE_ERROR"><code>DataSourceStatusProvider.ErrorKind.STORE_ERROR</code></a>. It will not rethrow the error to the data
 source, but will simply return <code>false</code> to indicate that the operation failed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>kind</code> - specifies which collection to use</dd>
<dd><code>key</code> - the unique key for the item within that collection</dd>
<dd><code>item</code> - the item to insert or update</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the update succeeded, false if it failed</dd>
</dl>
</li>
</ul>
<a id="getDataStoreStatusProvider()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataStoreStatusProvider</h4>
<pre class="methodSignature"><a href="../interfaces/DataStoreStatusProvider.html" title="interface in com.launchdarkly.sdk.server.interfaces">DataStoreStatusProvider</a>&nbsp;getDataStoreStatusProvider()</pre>
<div class="block">Returns an object that provides status tracking for the data store, if applicable.
 <p>
 This may be useful if the data source needs to be aware of storage problems that might require it
 to take some special action: for instance, if a database outage may have caused some data to be
 lost and therefore the data should be re-requested from LaunchDarkly.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../interfaces/DataStoreStatusProvider.html" title="interface in com.launchdarkly.sdk.server.interfaces"><code>DataStoreStatusProvider</code></a></dd>
</dl>
</li>
</ul>
<a id="updateStatus(com.launchdarkly.sdk.server.interfaces.DataSourceStatusProvider.State,com.launchdarkly.sdk.server.interfaces.DataSourceStatusProvider.ErrorInfo)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateStatus</h4>
<pre class="methodSignature">void&nbsp;updateStatus&#8203;(<a href="../interfaces/DataSourceStatusProvider.State.html" title="enum in com.launchdarkly.sdk.server.interfaces">DataSourceStatusProvider.State</a>&nbsp;newState,
                  <a href="../interfaces/DataSourceStatusProvider.ErrorInfo.html" title="class in com.launchdarkly.sdk.server.interfaces">DataSourceStatusProvider.ErrorInfo</a>&nbsp;newError)</pre>
<div class="block">Informs the SDK of a change in the data source's status.
 <p>
 Data source implementations should use this method if they have any concept of being in a valid
 state, a temporarily disconnected state, or a permanently stopped state.
 <p>
 If <code>newState</code> is different from the previous state, and/or <code>newError</code> is non-null, the
 SDK will start returning the new status (adding a timestamp for the change) from
 <a href="../interfaces/DataSourceStatusProvider.html#getStatus()"><code>DataSourceStatusProvider.getStatus()</code></a>, and will trigger status change events to any
 registered listeners.
 <p>
 A special case is that if <code>newState</code> is <a href="../interfaces/DataSourceStatusProvider.State.html#INTERRUPTED"><code>DataSourceStatusProvider.State.INTERRUPTED</code></a>,
 but the previous state was <a href="../interfaces/DataSourceStatusProvider.State.html#INITIALIZING"><code>DataSourceStatusProvider.State.INITIALIZING</code></a>, the state will remain
 at <a href="../interfaces/DataSourceStatusProvider.State.html#INITIALIZING"><code>DataSourceStatusProvider.State.INITIALIZING</code></a> because <a href="../interfaces/DataSourceStatusProvider.State.html#INTERRUPTED"><code>DataSourceStatusProvider.State.INTERRUPTED</code></a>
 is only meaningful after a successful startup.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newState</code> - the data source state</dd>
<dd><code>newError</code> - information about a new error, if any</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../interfaces/DataSourceStatusProvider.html" title="interface in com.launchdarkly.sdk.server.interfaces"><code>DataSourceStatusProvider</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
