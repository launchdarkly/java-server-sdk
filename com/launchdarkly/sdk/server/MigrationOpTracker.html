<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MigrationOpTracker (launchdarkly-java-server-sdk 7.3.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MigrationOpTracker (launchdarkly-java-server-sdk 7.3.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.launchdarkly.sdk.server</a></div>
<h2 title="Class MigrationOpTracker" class="title">Class MigrationOpTracker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.launchdarkly.sdk.server.MigrationOpTracker</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">MigrationOpTracker</span>
extends java.lang.Object</pre>
<div class="block">Used to track information related to a migration operation.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="MigrationOpTracker.Checker.html" title="interface in com.launchdarkly.sdk.server">MigrationOpTracker.Checker</a></span></code></th>
<td class="colLast">
<div class="block">Interface for specifying the callback function for the consistency check.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#consistency(com.launchdarkly.sdk.server.MigrationOpTracker.Checker)">consistency</a></span>&#8203;(<a href="MigrationOpTracker.Checker.html" title="interface in com.launchdarkly.sdk.server">MigrationOpTracker.Checker</a>&nbsp;checker)</code></th>
<td class="colLast">
<div class="block">Check the consistency of a read result.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#error(com.launchdarkly.sdk.server.MigrationOrigin)">error</a></span>&#8203;(<a href="MigrationOrigin.html" title="enum in com.launchdarkly.sdk.server">MigrationOrigin</a>&nbsp;origin)</code></th>
<td class="colLast">
<div class="block">Report that an error has occurred for the specified origin.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invoked(com.launchdarkly.sdk.server.MigrationOrigin)">invoked</a></span>&#8203;(<a href="MigrationOrigin.html" title="enum in com.launchdarkly.sdk.server">MigrationOrigin</a>&nbsp;origin)</code></th>
<td class="colLast">
<div class="block">Call this to report that an origin was invoked (executed).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#latency(com.launchdarkly.sdk.server.MigrationOrigin,java.time.Duration)">latency</a></span>&#8203;(<a href="MigrationOrigin.html" title="enum in com.launchdarkly.sdk.server">MigrationOrigin</a>&nbsp;origin,
       java.time.Duration&nbsp;duration)</code></th>
<td class="colLast">
<div class="block">Report the latency of an operation.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#op(com.launchdarkly.sdk.server.MigrationOp)">op</a></span>&#8203;(<a href="MigrationOp.html" title="enum in com.launchdarkly.sdk.server">MigrationOp</a>&nbsp;op)</code></th>
<td class="colLast">
<div class="block">Sets the migration related operation associated with these tracking measurements.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="op(com.launchdarkly.sdk.server.MigrationOp)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>op</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;op&#8203;(@NotNull
               <a href="MigrationOp.html" title="enum in com.launchdarkly.sdk.server">MigrationOp</a>&nbsp;op)</pre>
<div class="block">Sets the migration related operation associated with these tracking measurements.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>op</code> - the operation being tracked</dd>
</dl>
</li>
</ul>
<a id="error(com.launchdarkly.sdk.server.MigrationOrigin)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>error</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;error&#8203;(@NotNull
                  <a href="MigrationOrigin.html" title="enum in com.launchdarkly.sdk.server">MigrationOrigin</a>&nbsp;origin)</pre>
<div class="block">Report that an error has occurred for the specified origin.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>origin</code> - the origin of the error</dd>
</dl>
</li>
</ul>
<a id="consistency(com.launchdarkly.sdk.server.MigrationOpTracker.Checker)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consistency</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;consistency&#8203;(@NotNull
                        <a href="MigrationOpTracker.Checker.html" title="interface in com.launchdarkly.sdk.server">MigrationOpTracker.Checker</a>&nbsp;checker)</pre>
<div class="block">Check the consistency of a read result. This method should be invoked if the `check` function
 is defined for the migration and both reads ("new"/"old") were done.
 <p>
 The function will use the checkRatio to determine if the check should be executed, and it
 will record the result.
 <p>
 If the consistency check function throws an exception, then no measurement for consistency will be included
 in the generated migration op event.
 <p>
 Example calling the check function from the migration config.
 <pre>
 if (checker != null &amp;&amp;
   oldResult.success &amp;&amp;
   newResult.success
 ) {
   // Temporary variables for the lambda invocation.
   MigrationResult@lt;TReadResult@gt; finalNewResult = newResult;
   MigrationResult@lt;TReadResult@gt; finalOldResult = oldResult;

   tracker.consistency(() -&gt; checker.check(finalOldResult.result,
   finalNewResult.result));
 }
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>checker</code> - The function which executes the check. This is not the `check` function from the
                migration options, but instead should be a parameter-less function that calls that function.</dd>
</dl>
</li>
</ul>
<a id="latency(com.launchdarkly.sdk.server.MigrationOrigin,java.time.Duration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>latency</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;latency&#8203;(@NotNull
                    <a href="MigrationOrigin.html" title="enum in com.launchdarkly.sdk.server">MigrationOrigin</a>&nbsp;origin,
                    @NotNull
                    java.time.Duration&nbsp;duration)</pre>
<div class="block">Report the latency of an operation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>origin</code> - the origin the latency is being reported for</dd>
<dd><code>duration</code> - the latency of the operation</dd>
</dl>
</li>
</ul>
<a id="invoked(com.launchdarkly.sdk.server.MigrationOrigin)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>invoked</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;invoked&#8203;(@NotNull
                    <a href="MigrationOrigin.html" title="enum in com.launchdarkly.sdk.server">MigrationOrigin</a>&nbsp;origin)</pre>
<div class="block">Call this to report that an origin was invoked (executed). There are some situations where the
 expectation is that both the old and new implementation will be used, but with writes
 it is possible that the non-authoritative will not execute. Reporting the execution allows
 for more accurate analytics.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>origin</code> - the origin that was invoked</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
